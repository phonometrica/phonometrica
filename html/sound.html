


<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Sound visualization and analysis &#8212; Phonometrica 0.7.0 documentation</title>
    <link rel="stylesheet" href="_static/yeen.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Sound annotation" href="annotation.html" />
    <link rel="prev" title="Getting started" href="intro/start.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="annotation.html" title="Sound annotation"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="intro/start.html" title="Getting started"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Phonometrica 0.7.0 documentation</a> &#187;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Sound visualization and analysis</a><ul>
<li><a class="reference internal" href="#structure-of-sound-views">Structure of sound views</a><ul>
<li><a class="reference internal" href="#toolbar">Toolbar</a></li>
<li><a class="reference internal" href="#wavebar">Wavebar</a></li>
<li><a class="reference internal" href="#waveform">Waveform</a></li>
<li><a class="reference internal" href="#spectrogram">Spectrogram</a></li>
<li><a class="reference internal" href="#formant-tracks">Formant tracks</a></li>
<li><a class="reference internal" href="#pitch-track">Pitch track</a></li>
<li><a class="reference internal" href="#intensity-track">Intensity track</a></li>
</ul>
</li>
<li><a class="reference internal" href="#how-to-use-sound-views">How to use sound views</a><ul>
<li><a class="reference internal" href="#playing-a-sound">Playing a sound</a></li>
<li><a class="reference internal" href="#changing-the-current-window">Changing the current window</a></li>
<li><a class="reference internal" href="#acoustic-measurements">Acoustic measurements</a></li>
</ul>
</li>
<li><a class="reference internal" href="#references">References</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="intro/start.html"
                        title="previous chapter">Getting started</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="annotation.html"
                        title="next chapter">Sound annotation</a></p>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="sound-visualization-and-analysis">
<span id="sound-view"></span><h1>Sound visualization and analysis<a class="headerlink" href="#sound-visualization-and-analysis" title="Permalink to this headline">¶</a></h1>
<p>Phonometrica offers a dedicated environment for speech visualization and analysis. To visualize a sound file, you need to open it in a <strong>sound view</strong>.
To open a sound view, double-click on a sound file in the file manager, on right-click on it and choose <code class="docutils literal notranslate"><span class="pre">View</span> <span class="pre">file</span></code> from the context menu.
When it is opened, the sound view will display the first 10 seconds of the sound file, or the whole sound file if it is shorter than that.</p>
<div class="section" id="structure-of-sound-views">
<h2>Structure of sound views<a class="headerlink" href="#structure-of-sound-views" title="Permalink to this headline">¶</a></h2>
<div class="section" id="toolbar">
<h3>Toolbar<a class="headerlink" href="#toolbar" title="Permalink to this headline">¶</a></h3>
<p>The toolbar is located at the top of the sound view and provides a number of buttons which can execute actions or display menus.</p>
</div>
<div class="section" id="wavebar">
<h3>Wavebar<a class="headerlink" href="#wavebar" title="Permalink to this headline">¶</a></h3>
<p>The <strong>wave bar</strong> is located at the bottom of the sound view: it shows a simplified waveform of the whole sound file, and indicates
which part of the file is currently selected. You can select any portion of the wave bar to zoom in on a portion of the
sound file: The other plots (waveform, pitch track and intensity track) will be adjusted to display the portion you
have selected. You can also use the mouse wheel over the wave bar and scroll it up or down to shift the selected window
left or right, respectively.</p>
</div>
<div class="section" id="waveform">
<h3>Waveform<a class="headerlink" href="#waveform" title="Permalink to this headline">¶</a></h3>
<p>The waveform displays a two-dimensional representation of the sound, with time on the <em>x</em> axis
and amplitude on the <em>y</em> axis. The waveform is always present and cannot be hidden.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">Waveform</span> <span class="pre">settings...</span></code> command (available from the waveform menu <a class="reference internal" href="_images/waveform.png"><img alt="waveform" src="_images/waveform.png" style="width: 16px; height: 16px;" /></a> in the toolbar) allows you to alter the range of amplitudes used to display the waveform.
By default, Phonometrica uses <strong>local magnitude</strong>, which is the largest magnitude in the current window. As a result, the magnitude will change every time the
window changes. If you prefer to use a fixed magnitude instead, you can either choose <strong>global magnitude</strong>, which will use the largest magnitude in the whole
sound file, or <strong>fixed magnitude</strong> to set a custom magnitude. Note that the largest possible magnitude is 1.</p>
</div>
<div class="section" id="spectrogram">
<h3>Spectrogram<a class="headerlink" href="#spectrogram" title="Permalink to this headline">¶</a></h3>
<p>A spectrogram offers a three-dimensional representation of signal, with time on the <em>x</em> axis, frequency on the
<em>y</em> axis and intensity as shades of grey (the darker it is, the higher the intensity is). The appearance of the
spectrogram can be ajusted by changing the following settings, using the <code class="docutils literal notranslate"><span class="pre">Spectrogram</span> <span class="pre">settings...</span></code> command
available from the spectrogram menu <a class="reference internal" href="_images/spectrum.png"><img alt="spectrogram" src="_images/spectrum.png" style="width: 16px; height: 16px;" /></a> in the toolbar:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">spectrogram</span> <span class="pre">type</span></code>: the type of spectrogram is determined by the duration of the analysis.
A <strong>wide-band spectrogram</strong> is obtained with a short analysis window (5 ms by default): this type of spectrogram has good
frequency resolution, which allows us to see individual glottal pulses as vertical striation lines, but it has poor frequency resolution. A <strong>narrow-band spectrogram</strong> uses a long window analysis (25 ms by default): it has poor time resolution but good frequency resolution, which allows us to see individual harmonics as thin horizontal bands. You can choose a custom window length
(in millisecons) if the default choices don’t fit your needs.</li>
<li><code class="docutils literal notranslate"><span class="pre">frequency</span> <span class="pre">range</span></code>: the range of frequencies that is displayed. If this value is higher than the Nyquist frequency for
a given file (i.e. half its sampling frequency), Phonometrica will use the Nyquist frequency instead of this setting.</li>
<li><code class="docutils literal notranslate"><span class="pre">dynamic</span> <span class="pre">range</span></code> This value determines the degree of contrast in the spectrogram. All values that are less than
<em>max_dB - dynamic_range</em> are displayed in white, where <em>max_dB</em> is the the highest intensity in the current window.</li>
<li><code class="docutils literal notranslate"><span class="pre">window</span> <span class="pre">type</span></code>: This parameter indicates the shape of the window that is applied to a segment of the sound file before
calculating its Fast Fourier Transform.</li>
<li><code class="docutils literal notranslate"><span class="pre">pre-emphasis</span> <span class="pre">threshold</span></code>: threshold of the high-pass pre-emphasis filter. The amplitude of the frequencies above this
threshold will be increased. This value is plugged into the following equation: <span class="math notranslate nohighlight">\(y[n] = x[n] - \exp(-2 \pi f \frac{1}{F_s}) x[n-1]\)</span>,
where <span class="math notranslate nohighlight">\(f\)</span> is the pre-emphasis threshold and <span class="math notranslate nohighlight">\(F_s\)</span> is the sampling rate.</li>
</ul>
<p>You can show or hide the spectrogram using the <code class="docutils literal notranslate"><span class="pre">Show</span> <span class="pre">spectrogram</span></code> command in the spectrogram menu.</p>
</div>
<div class="section" id="formant-tracks">
<h3>Formant tracks<a class="headerlink" href="#formant-tracks" title="Permalink to this headline">¶</a></h3>
<p>Formant tracks are overlaid over the spectrogram, so the spectrogram must be visible to be able to display formants. By default,
Phonometrica shows the first 4 formants (F1, F2, F3, F4), if they are defined. Phonometrica formant tracking algorithm is based
on Linear Predictive Coding (LPC). The <code class="docutils literal notranslate"><span class="pre">Formant</span> <span class="pre">settings...</span></code> command (available from the formants menu <a class="reference internal" href="_images/formants.png"><img alt="formants" src="_images/formants.png" style="width: 16px; height: 16px;" /></a> in the
toolbar) allows you adjust the formant tracking algorithm’s parameters:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">number</span> <span class="pre">of</span> <span class="pre">formants</span></code>: this is the maximum number of formants that will be extracted and displayed over the spectrogram</li>
<li><code class="docutils literal notranslate"><span class="pre">maximum</span> <span class="pre">frequency</span></code>: this is the highest frequency in the sound below which formants are expected to be found. For
vowel analysis, a good rule of thumb is to use 5000 Hz for male voices and 5500 for female voices. We usually expect to find 5 formants
within this frequency range.</li>
<li><code class="docutils literal notranslate"><span class="pre">window</span> <span class="pre">length</span></code>: this is the duration (in seconds) of the analysis window that will be used to calculate prediction coefficients.</li>
<li><code class="docutils literal notranslate"><span class="pre">LPC</span> <span class="pre">order</span></code>: this represents the number of prediction coefficients that will be used to perform LPC analysis. For a male voice,
we usually expect roughly one formant per thousand Hertz. (Add 10% for female voices.) By default, Phonometrica applies the following
formula:  <span class="math notranslate nohighlight">\(LPC order = 2n + 2\)</span>, where <em>n</em> is the expected number of formants.</li>
</ul>
</div>
<div class="section" id="pitch-track">
<h3>Pitch track<a class="headerlink" href="#pitch-track" title="Permalink to this headline">¶</a></h3>
<p>The pitch track is a two-dimensional representation of the sound which shows how pitch (measured in Hertz) changes over time. Phonometrica uses the SWIPE algorithm <a class="reference internal" href="#cam2007" id="id1">[CAM2007]</a> for
pitch tracking. The <code class="docutils literal notranslate"><span class="pre">Pitch</span> <span class="pre">settings...</span></code> command (available from the pitch menu <a class="reference internal" href="_images/voice.png"><img alt="pitch" src="_images/voice.png" style="width: 16px; height: 16px;" /></a> in the toolbar) allows you to adjust the algorithm’s parameters:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">minimum</span> <span class="pre">pitch</span></code>: this is the lowest pitch value expected to be found in the sound.</li>
<li><code class="docutils literal notranslate"><span class="pre">maximum</span> <span class="pre">pitch</span></code>: this is the highest pitch value expected to be found in the sound.</li>
<li><code class="docutils literal notranslate"><span class="pre">time</span> <span class="pre">step</span></code>: this determines the number of points used to estimate pitch in the current window.</li>
<li><code class="docutils literal notranslate"><span class="pre">voicing</span> <span class="pre">threshold</span></code>: this determines the sensitivity of the algorithm to voicing detection. This parameter is a value between 0.2 and 0.5 (inclusive).</li>
</ul>
<p>You can show or hide the pitch track using the <code class="docutils literal notranslate"><span class="pre">Show</span> <span class="pre">pitch</span></code> command in the pitch menu.</p>
</div>
<div class="section" id="intensity-track">
<h3>Intensity track<a class="headerlink" href="#intensity-track" title="Permalink to this headline">¶</a></h3>
<p>The intensity track is a two-dimensional representation of the sound which shows how intensity (measured in decibels) changes over time. The <code class="docutils literal notranslate"><span class="pre">Intensity</span> <span class="pre">settings...</span></code> command
(available from the intensity menu <a class="reference internal" href="_images/hearing.png"><img alt="intensity" src="_images/hearing.png" style="width: 16px; height: 16px;" /></a> in the toolbar) allows you to adjust intensity settings:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">minimum</span> <span class="pre">intensity</span></code>: this is the lowest intensity value expected to be found in the sound.</li>
<li><code class="docutils literal notranslate"><span class="pre">maximum</span> <span class="pre">intensity</span></code>: this is the highest intensity value expected to be found in the sound.</li>
<li><code class="docutils literal notranslate"><span class="pre">time</span> <span class="pre">step</span></code>: this determines the number of points used to estimate intensity in the current window.</li>
</ul>
<p>You can show or hide the intensity track using the <code class="docutils literal notranslate"><span class="pre">Show</span> <span class="pre">intensity</span></code> command in the intensity menu.</p>
</div>
</div>
<div class="section" id="how-to-use-sound-views">
<h2>How to use sound views<a class="headerlink" href="#how-to-use-sound-views" title="Permalink to this headline">¶</a></h2>
<div class="section" id="playing-a-sound">
<h3>Playing a sound<a class="headerlink" href="#playing-a-sound" title="Permalink to this headline">¶</a></h3>
<p>To play a sound, you can use the play button <a class="reference internal" href="_images/play.png"><img alt="play" src="_images/play.png" style="width: 16px; height: 16px;" /></a>: if there is a selection in the current window, Phonometrica will only play this selection, otherwise it will play the
whole window. Once playing has started, a moving cursor will track the approximate time which is currently being played. The play button will turn into a pause button <a class="reference internal" href="_images/pause.png"><img alt="pause" src="_images/pause.png" style="width: 16px; height: 16px;" /></a>,
which allows you to pause (and then later resume) playing. You can also stop playing using the stop button <a class="reference internal" href="_images/stop.png"><img alt="stop" src="_images/stop.png" style="width: 16px; height: 16px;" /></a>.</p>
</div>
<div class="section" id="changing-the-current-window">
<h3>Changing the current window<a class="headerlink" href="#changing-the-current-window" title="Permalink to this headline">¶</a></h3>
<p>Phonometrica offers a number of ways to navigate through the file, using the wavebar, the navigation buttons in the toolbar, or the mouse.</p>
<p>First, you can select any part of the wavebar to display it as the current window. If you would like to keep the same window size and shift the sound left or right, you can hover
the mouse over the wavebar and use the scroll wheel: scrolling down will shift the current window forward, and scrolling up will shift it backward.</p>
<p>Once you have selected a portion of the file, you can change it using the toolbar’s buttons. The forward <a class="reference internal" href="_images/next.png"><img alt="forward" src="_images/next.png" style="width: 16px; height: 16px;" /></a> and backward <a class="reference internal" href="_images/back.png"><img alt="backward" src="_images/back.png" style="width: 16px; height: 16px;" /></a> buttons will shift the current window by
a small amount, right or left, respectively. This has a similar effect to scrolling the mouse wheel over the wavebar. You can also zoom in <a class="reference internal" href="_images/zoom+.png"><img alt="zoomin" src="_images/zoom+.png" style="width: 16px; height: 16px;" /></a> or zoom out <a class="reference internal" href="_images/zoom-.png"><img alt="zoomout" src="_images/zoom-.png" style="width: 16px; height: 16px;" /></a> on the
current window, which allows you to view the sound file with varying degrees of detail. If you would like to zoom in on on a specific part of the current window, click where you would
like your selection to start, and drag the mouse until the end of the selection. You can change the current window to this selection by clicking on the <code class="docutils literal notranslate"><span class="pre">Zoom</span> <span class="pre">to</span> <span class="pre">selection</span></code>
button <a class="reference internal" href="_images/collapse.png"><img alt="zoomsel" src="_images/collapse.png" style="width: 16px; height: 16px;" /></a>, or by clicking on the middle button of the mouse (i.e. the scroll wheel).</p>
<p>Finally, the <code class="docutils literal notranslate"><span class="pre">View</span> <span class="pre">whole</span> <span class="pre">file</span></code> button <a class="reference internal" href="_images/expand.png"><img alt="zoomall" src="_images/expand.png" style="width: 16px; height: 16px;" /></a> allows you to set the current window to the whole file, and the <code class="docutils literal notranslate"><span class="pre">Select</span> <span class="pre">window</span></code> button <a class="reference internal" href="_images/selection.png"><img alt="select" src="_images/selection.png" style="width: 16px; height: 16px;" /></a> allows you to select a specific
part of the sound file by setting its start and end points manually.</p>
</div>
<div class="section" id="acoustic-measurements">
<h3>Acoustic measurements<a class="headerlink" href="#acoustic-measurements" title="Permalink to this headline">¶</a></h3>
<p>In order to perform manual acoustic measurements, you must first enable <strong>mouse tracking</strong> by clicking on the <code class="docutils literal notranslate"><span class="pre">Enable</span> <span class="pre">mouse</span> <span class="pre">tracking</span></code> button <a class="reference internal" href="_images/mouse.png"><img alt="mouse" src="_images/mouse.png" style="width: 16px; height: 16px;" /></a> in the toolbar. Once mouse tracking
is activated, a vertical line will follow the cursor whenever you move the mouse over one of the sound plots. This moving cursor will keeps track of the current time in the waveform
plot. If you click on the left button anywhere in one of the sound plots, a <strong>persistent cursor</strong> will be displayed. (You can remove the persistent cursor by clicking on the right
button.)</p>
<p>Once a persistent cursor is visible, you can perform acoustic measurements by using clicking on one of the dedicated commands. These commands will print their output in the console:</p>
<ul class="simple">
<li>The <code class="docutils literal notranslate"><span class="pre">Get</span> <span class="pre">pitch</span></code> command in the pitch menu <a class="reference internal" href="_images/voice.png"><img alt="pitch" src="_images/voice.png" style="width: 16px; height: 16px;" /></a> prints the pitch under the cursor</li>
<li>The <code class="docutils literal notranslate"><span class="pre">Get</span> <span class="pre">intensity</span></code> command in the intensity menu <a class="reference internal" href="_images/hearing.png"><img alt="intensity" src="_images/hearing.png" style="width: 16px; height: 16px;" /></a> prints the intensity under the cursor</li>
<li>The <code class="docutils literal notranslate"><span class="pre">Get</span> <span class="pre">formants</span></code> command in the formants menu <a class="reference internal" href="_images/formants.png"><img alt="formants" src="_images/formants.png" style="width: 16px; height: 16px;" /></a> prints the value of the visible formants, as well as their respective bandwidth, under the cursor</li>
</ul>
<p>Note that for these commands to work, the corresponding plot must be visible (e.g. the pitch plot must be visible if you want to measure pitch).</p>
</div>
</div>
<div class="section" id="references">
<h2>References<a class="headerlink" href="#references" title="Permalink to this headline">¶</a></h2>
<table class="docutils citation" frame="void" id="cam2007" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id1">[CAM2007]</a></td><td>Camacho, Arturo. 2007. SWIPE: A sawtooth waveform inspired pitch estimator for speech and music. PhD dissertation, University of Florida Gainesville.</td></tr>
</tbody>
</table>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="annotation.html" title="Sound annotation"
             >next</a> |</li>
        <li class="right" >
          <a href="intro/start.html" title="Getting started"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Phonometrica 0.7.0 documentation</a> &#187;</li> 
      </ul>
    </div>
    
    <div class="footer" role="contentinfo">
        &#169; Copyright 2019, Julien Eychenne &amp; Léa Courdès-Murphy.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.8.4.
    </div>
    

  </body>
</html>